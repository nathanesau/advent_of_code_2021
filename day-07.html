
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="/advent_of_code_2021/theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="/advent_of_code_2021/theme/pygments/github.min.css">


  <link rel="stylesheet" type="text/css" href="/advent_of_code_2021/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="/advent_of_code_2021/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="/advent_of_code_2021/theme/font-awesome/css/solid.css">

    <link href="/advent_of_code_2021/static/custom.css" rel="stylesheet">



    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">
    <link rel="icon" href="img/favicon.ico" type="image/x-icon">

<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-214131892-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

<meta name="author" content="Nathan Esau" />
<meta name="description" content="See problem here. The basic idea is to calculate the total cost for some positions to position m. function fuel_cost(positions, m, method) { var cost = 0; for (var c of positions) { if (method === &#34;constant&#34;) { cost += Math.abs(m - c); } else { // &#34;step&#34; cost += Math.abs(m - c) * (Math.abs(m - c …" />
<meta name="keywords" content="js, python">


<meta property="og:site_name" content="Advent of Code 2021 Blog"/>
<meta property="og:title" content="Day 07"/>
<meta property="og:description" content="See problem here. The basic idea is to calculate the total cost for some positions to position m. function fuel_cost(positions, m, method) { var cost = 0; for (var c of positions) { if (method === &#34;constant&#34;) { cost += Math.abs(m - c); } else { // &#34;step&#34; cost += Math.abs(m - c) * (Math.abs(m - c …"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="/advent_of_code_2021/day-07.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2021-12-07 00:00:00-05:00"/>
<meta property="article:modified_time" content="2021-12-07 00:00:00-05:00"/>
<meta property="article:author" content="/advent_of_code_2021/author/nathan-esau.html">
<meta property="article:section" content="aoc2021"/>
<meta property="article:tag" content="js"/>
<meta property="article:tag" content="python"/>
<meta property="og:image" content="">

  <title>Advent of Code 2021 Blog &ndash; Day 07</title>

</head>
<body class="light-theme">
  <aside>
    <div>
      <a href="/advent_of_code_2021">
        <img src="/advent_of_code_2021/theme/img/profile.png" alt="" title="">
      </a>

      <h1>
        <a href="/advent_of_code_2021"></a>
      </h1>



      <nav>
        <ul class="list">



            <li>
              <a target="_self" href="https://nathanesau.github.io" >Website</a>
            </li>
            <li>
              <a target="_self" href="https://github.com/nathanesau" >Github</a>
            </li>
            <li>
              <a target="_self" href="https://github.com/nathanesau/advent_of_code_2021" >Repository</a>
            </li>
        </ul>
      </nav>

      <ul class="social">
      </ul>
    </div>

  </aside>
  <main>


<article class="single">
  <header>
      
    <h1 id="day-07">Day 07</h1>
    <p>
      Posted on Tue 07 December 2021 in <a href="/advent_of_code_2021/category/aoc2021.html">aoc2021</a>

    </p>
  </header>


  <div>
    <p>See problem <a href="https://adventofcode.com/2021/day/7">here</a>.</p>
<p>The basic idea is to calculate the total <code>cost</code> for some positions to position <code>m</code>.</p>
<div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">fuel_cost</span><span class="p">(</span><span class="nx">positions</span><span class="p">,</span> <span class="nx">m</span><span class="p">,</span> <span class="nx">method</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">cost</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">c</span> <span class="k">of</span> <span class="nx">positions</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">method</span> <span class="o">===</span> <span class="s2">&quot;constant&quot;</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">cost</span> <span class="o">+=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">m</span> <span class="o">-</span> <span class="nx">c</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span> <span class="c1">// &quot;step&quot;</span>
            <span class="nx">cost</span> <span class="o">+=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">m</span> <span class="o">-</span> <span class="nx">c</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">m</span> <span class="o">-</span> <span class="nx">c</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">cost</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p>Note that for <code>part2</code> the cost function is different. It is (1 + 2 + ... + n) = (n)(n+1)/2.</p>
<p>Probably you can try add possible positions from <code>min(positions)</code> to <code>max(positions)</code>. But this is kind of stupid. You can instead try median and than branch out from the median in the proper direction (i.e. up or down) until you arrive at the solution. For the provided example, in part 2, I would start at 2 and go up until 5. This is because <code>fuel_cost(positions, 6, "constant")</code> is higher than <code>fuel_cost(positions, 5, "constant")</code> so I stop.</p>
<div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">min_fuel_cost</span><span class="p">(</span><span class="nx">positions</span><span class="p">,</span> <span class="nx">method</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">m</span> <span class="o">=</span> <span class="nx">median</span><span class="p">(</span><span class="nx">positions</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">cost</span> <span class="o">=</span> <span class="p">{};</span>
    <span class="nx">cost</span><span class="p">[</span><span class="nx">m</span><span class="p">]</span> <span class="o">=</span> <span class="nx">fuel_cost</span><span class="p">(</span><span class="nx">positions</span><span class="p">,</span> <span class="nx">m</span><span class="p">,</span> <span class="nx">method</span><span class="p">);</span>
    <span class="nx">cost</span><span class="p">[</span><span class="nx">m</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nx">fuel_cost</span><span class="p">(</span><span class="nx">positions</span><span class="p">,</span> <span class="nx">m</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nx">method</span><span class="p">);</span>
    <span class="nx">cost</span><span class="p">[</span><span class="nx">m</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nx">fuel_cost</span><span class="p">(</span><span class="nx">positions</span><span class="p">,</span> <span class="nx">m</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="nx">method</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="p">(</span><span class="nx">cost</span><span class="p">[</span><span class="nx">m</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="nx">cost</span><span class="p">[</span><span class="nx">m</span><span class="p">])</span> <span class="o">?</span> <span class="nx">m</span><span class="o">-</span><span class="mi">1</span> <span class="o">:</span> <span class="p">(</span><span class="nx">cost</span><span class="p">[</span><span class="nx">m</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="nx">cost</span><span class="p">[</span><span class="nx">m</span><span class="p">])</span> <span class="o">?</span> <span class="nx">m</span><span class="o">+</span><span class="mi">1</span> <span class="o">:</span> <span class="nx">m</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">n</span> <span class="o">===</span> <span class="nx">m</span><span class="p">)</span> <span class="k">return</span> <span class="nx">cost</span><span class="p">[</span><span class="nx">m</span><span class="p">];</span>
    <span class="kd">var</span> <span class="nx">incr</span> <span class="o">=</span> <span class="p">(</span><span class="nx">n</span> <span class="o">===</span> <span class="nx">m</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">?</span> <span class="o">-</span><span class="mi">1</span> <span class="o">:</span> <span class="o">+</span><span class="mi">1</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">prev</span> <span class="o">=</span> <span class="nx">m</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="nx">cost</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span> <span class="o">&lt;</span> <span class="nx">cost</span><span class="p">[</span><span class="nx">prev</span><span class="p">])</span> <span class="p">{</span>
        <span class="nx">prev</span> <span class="o">=</span> <span class="nx">n</span><span class="p">;</span>
        <span class="nx">n</span> <span class="o">+=</span> <span class="nx">incr</span><span class="p">;</span>
        <span class="nx">cost</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span> <span class="o">=</span> <span class="nx">fuel_cost</span><span class="p">(</span><span class="nx">positions</span><span class="p">,</span> <span class="nx">n</span><span class="p">,</span> <span class="nx">method</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">cost</span><span class="p">[</span><span class="nx">prev</span><span class="p">];</span>
<span class="p">}</span>
</pre></div>


<p>And here is the code for <code>part1</code> and <code>part2</code> using these functions.</p>
<div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">part1</span><span class="p">(</span><span class="nx">pi</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">positions</span> <span class="o">=</span> <span class="nx">pi</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">).</span><span class="nx">map</span><span class="p">(</span><span class="nb">Number</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">ans</span> <span class="o">=</span> <span class="nx">min_fuel_cost</span><span class="p">(</span><span class="nx">positions</span><span class="p">,</span> <span class="s2">&quot;constant&quot;</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`part1: </span><span class="si">${</span><span class="nx">ans</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">part2</span><span class="p">(</span><span class="nx">pi</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">positions</span> <span class="o">=</span> <span class="nx">pi</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">).</span><span class="nx">map</span><span class="p">(</span><span class="nb">Number</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">ans</span> <span class="o">=</span> <span class="nx">min_fuel_cost</span><span class="p">(</span><span class="nx">positions</span><span class="p">,</span> <span class="s2">&quot;step&quot;</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`part2: </span><span class="si">${</span><span class="nx">ans</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>


<p>If you enjoyed this post, please like the post! Looking forward to day 8!</p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="/advent_of_code_2021/tag/js.html">js</a>
      <a href="/advent_of_code_2021/tag/python.html">python</a>
    </p>
  </div>





<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'nathanesau-github-io';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
    Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>

    <footer>
<p>&copy;  </p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Advent of Code 2021 Blog ",
  "url" : "/advent_of_code_2021",
  "image": "",
  "description": ""
}
</script>


</body>
</html>