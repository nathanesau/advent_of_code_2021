
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="/advent_of_code_2021/theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="/advent_of_code_2021/theme/pygments/github.min.css">


  <link rel="stylesheet" type="text/css" href="/advent_of_code_2021/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="/advent_of_code_2021/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="/advent_of_code_2021/theme/font-awesome/css/solid.css">

    <link href="/advent_of_code_2021/static/custom.css" rel="stylesheet">



    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">
    <link rel="icon" href="img/favicon.ico" type="image/x-icon">

<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-214131892-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

<meta name="author" content="Nathan Esau" />
<meta name="description" content="See problem here. If this problem was hard for you, you are not alone.. I hope to clear things up in this post. Background First, let&#39;s go over some general graph traversal algorithms. def bfs(graph, start, end): # return True if there exists path from start to end q = [start …" />
<meta name="keywords" content="python">


<meta property="og:site_name" content="Advent of Code 2021 Blog"/>
<meta property="og:title" content="Day 12"/>
<meta property="og:description" content="See problem here. If this problem was hard for you, you are not alone.. I hope to clear things up in this post. Background First, let&#39;s go over some general graph traversal algorithms. def bfs(graph, start, end): # return True if there exists path from start to end q = [start …"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="/advent_of_code_2021/day-12.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2021-12-15 00:00:00-05:00"/>
<meta property="article:modified_time" content="2021-12-15 00:00:00-05:00"/>
<meta property="article:author" content="/advent_of_code_2021/author/nathan-esau.html">
<meta property="article:section" content="aoc2021"/>
<meta property="article:tag" content="python"/>
<meta property="og:image" content="">

  <title>Advent of Code 2021 Blog &ndash; Day 12</title>

</head>
<body class="light-theme">
  <aside>
    <div>
      <a href="/advent_of_code_2021">
        <img src="/advent_of_code_2021/theme/img/profile.png" alt="" title="">
      </a>

      <h1>
        <a href="/advent_of_code_2021"></a>
      </h1>



      <nav>
        <ul class="list">



            <li>
              <a target="_self" href="https://nathanesau.github.io" >Website</a>
            </li>
            <li>
              <a target="_self" href="https://github.com/nathanesau" >Github</a>
            </li>
            <li>
              <a target="_self" href="https://github.com/nathanesau/advent_of_code_2021" >Repository</a>
            </li>
        </ul>
      </nav>

      <ul class="social">
      </ul>
    </div>

  </aside>
  <main>


<article class="single">
  <header>
      
    <h1 id="day-12">Day 12</h1>
    <p>
      Posted on Wed 15 December 2021 in <a href="/advent_of_code_2021/category/aoc2021.html">aoc2021</a>

    </p>
  </header>


  <div>
    <p>See problem <a href="https://adventofcode.com/2021/day/12">here</a>.</p>
<p>If this problem was hard for you, you are not alone.. I hope to clear things up in this post.</p>
<h2>Background</h2>
<p>First, let's go over some general graph traversal algorithms.</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">bfs</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">):</span>
    <span class="c1"># return True if there exists path from start to end</span>
    <span class="n">q</span> <span class="o">=</span> <span class="p">[</span><span class="n">start</span><span class="p">]</span>
    <span class="n">visited</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="n">start</span><span class="p">])</span>
    <span class="k">while</span> <span class="n">q</span><span class="p">:</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">node</span> <span class="o">==</span> <span class="n">end</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">for</span> <span class="n">neighbor</span> <span class="ow">in</span> <span class="n">graph</span><span class="p">[</span><span class="n">node</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">neighbor</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">visited</span><span class="p">:</span>
                <span class="n">visited</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">neighbor</span><span class="p">)</span>
                <span class="n">q</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">neighbor</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">False</span>
</pre></div>


<p>We can generalize this to get the nmber of paths from start to end as follows:</p>
<div class="highlight"><pre><span></span><span class="n">NodeCls</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;NodeCls&#39;</span><span class="p">,</span> <span class="s1">&#39;val visited&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">bfs</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">):</span>
    <span class="c1"># return num paths from start to end</span>
    <span class="n">ct</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">q</span> <span class="o">=</span> <span class="p">[</span><span class="n">NodeCls</span><span class="p">(</span><span class="n">val</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">visited</span><span class="o">=</span><span class="nb">set</span><span class="p">([</span><span class="n">start</span><span class="p">]))]</span>
    <span class="k">while</span> <span class="n">q</span><span class="p">:</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">val</span> <span class="o">==</span> <span class="n">end</span><span class="p">:</span>
            <span class="n">ct</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">continue</span>
        <span class="k">for</span> <span class="n">neighbor</span> <span class="ow">in</span> <span class="n">graph</span><span class="p">[</span><span class="n">node</span><span class="o">.</span><span class="n">val</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">neighbor</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">visited</span><span class="p">:</span>
                <span class="n">visited_neighbor</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">visited</span><span class="p">)</span>
                <span class="n">visited_neighbor</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">neighbor</span><span class="p">)</span>
                <span class="n">q</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">NodeCls</span><span class="p">(</span><span class="n">val</span><span class="o">=</span><span class="n">neighbor</span><span class="p">,</span> <span class="n">visited</span><span class="o">=</span><span class="n">visited_neighbor</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">ct</span>
</pre></div>


<p>The idea here is to store visited separately for each node. In this way, we avoid backtracking to parents of the current node.</p>
<p>For this example</p>
<div class="highlight"><pre><span></span><span class="err">start-A</span>
<span class="err">start-b</span>
<span class="err">A-c</span>
<span class="err">A-b</span>
<span class="err">b-d</span>
<span class="err">A-end</span>
<span class="err">b-end</span>
</pre></div>


<p>The <code>bfs</code> function above will return 4 as number of paths. There paths are:</p>
<div class="highlight"><pre><span></span><span class="err">start -&gt; A -&gt; end</span>
<span class="err">start -&gt; b -&gt; end</span>
<span class="err">start -&gt; A -&gt; b -&gt; end</span>
<span class="err">start -&gt; b -&gt; A -&gt; end</span>
</pre></div>


<h2>Part 1</h2>
<p>So, for part1 it will be similar except we only care about avoiding backtracking to parents of current node which are lower case. So we only add lower case nodes to visited.</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">bfs</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">):</span>
    <span class="c1"># return num paths from start to end</span>
    <span class="n">ct</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">q</span> <span class="o">=</span> <span class="p">[</span><span class="n">NodeCls</span><span class="p">(</span><span class="n">val</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">visited</span><span class="o">=</span><span class="nb">set</span><span class="p">([</span><span class="n">start</span><span class="p">]))]</span>
    <span class="k">while</span> <span class="n">q</span><span class="p">:</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">val</span> <span class="o">==</span> <span class="n">end</span><span class="p">:</span>
            <span class="n">ct</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">continue</span>
        <span class="k">for</span> <span class="n">neighbor</span> <span class="ow">in</span> <span class="n">graph</span><span class="p">[</span><span class="n">node</span><span class="o">.</span><span class="n">val</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">neighbor</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">visited</span><span class="p">:</span>
                <span class="n">visited_neighbor</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">visited</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">neighbor</span><span class="o">.</span><span class="n">islower</span><span class="p">():</span>
                    <span class="n">visited_neighbor</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">neighbor</span><span class="p">)</span>
                <span class="n">q</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">NodeCls</span><span class="p">(</span><span class="n">val</span><span class="o">=</span><span class="n">neighbor</span><span class="p">,</span> <span class="n">visited</span><span class="o">=</span><span class="n">visited_neighbor</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">ct</span>
</pre></div>


<p>So altogether we have:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">build_graph</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">graph</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">splitlines</span><span class="p">():</span>
        <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">vertex</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">graph</span><span class="p">:</span>
                <span class="n">graph</span><span class="p">[</span><span class="n">vertex</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">graph</span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
        <span class="n">graph</span><span class="p">[</span><span class="n">b</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">graph</span>

<span class="k">def</span> <span class="nf">part1</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">graph</span> <span class="o">=</span> <span class="n">build_graph</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">ans</span> <span class="o">=</span> <span class="n">bfs</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="s2">&quot;start&quot;</span><span class="p">,</span> <span class="s2">&quot;end&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;part1 &quot;</span><span class="p">,</span> <span class="n">ans</span><span class="p">)</span>
</pre></div>


<h2>Part 2</h2>
<p>For part2, we also want to track the number of times that we have visited the current node.</p>
<p>Previously, we did the following:</p>
<div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">neighbor</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">visited</span><span class="p">:</span>
    <span class="n">visited_neighbor</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">visited</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">neighbor</span><span class="o">.</span><span class="n">islower</span><span class="p">():</span>
        <span class="n">visited_neighbor</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">neighbor</span><span class="p">)</span>
    <span class="n">q</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">NodeCls</span><span class="p">(</span><span class="n">val</span><span class="o">=</span><span class="n">neighbor</span><span class="p">,</span> <span class="n">visited</span><span class="o">=</span><span class="n">visited_neighbor</span><span class="p">))</span>
</pre></div>


<p>But now we want to do:</p>
<div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">neighbor</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">visited</span><span class="p">:</span>
    <span class="c1"># we will go here for upper case nodes or first time for lower case nodes</span>
    <span class="n">visited_neighbor</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">visited</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">neighbor</span><span class="o">.</span><span class="n">islower</span><span class="p">():</span>
        <span class="n">visited_neighbor</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">neighbor</span><span class="p">)</span>
    <span class="n">q</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">NodeCls</span><span class="p">(</span><span class="n">val</span><span class="o">=</span><span class="n">neighbor</span><span class="p">,</span> <span class="n">visited</span><span class="o">=</span><span class="n">visited_neighbor</span><span class="p">,</span> <span class="n">vtwice</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">vtwice</span><span class="p">))</span>
<span class="k">elif</span> <span class="ow">not</span> <span class="n">node</span><span class="o">.</span><span class="n">vtwice</span> <span class="ow">and</span> <span class="n">neighbor</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">,</span> <span class="s2">&quot;end&quot;</span><span class="p">]:</span>
    <span class="n">q</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">NodeCls</span><span class="p">(</span><span class="n">val</span><span class="o">=</span><span class="n">neighbor</span><span class="p">,</span> <span class="n">visited</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">visited</span><span class="p">,</span> <span class="n">vtwice</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>


<p>For nodes we haven't visited, logic is same as before, but we now keep track of new piece of information <code>vtwice</code>.</p>
<ul>
<li>This will be <code>false</code> initially.</li>
<li>It could become <code>true</code> for example for the case <code>start -&gt; b -&gt; A -&gt; b</code> or <code>start -&gt; b -&gt; d -&gt; b</code>. We want to prevent visiting the node a third time so we set the flag to <code>true</code>.</li>
</ul>
<p>This is the only difference for part2. Here is the entire function:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">bfs_visit_twice</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">):</span>
    <span class="c1"># return num paths from start to end</span>
    <span class="n">NodeCls</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;NodeCls&#39;</span><span class="p">,</span> <span class="s1">&#39;val visited vtwice&#39;</span><span class="p">)</span>
    <span class="n">ct</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">q</span> <span class="o">=</span> <span class="p">[</span><span class="n">NodeCls</span><span class="p">(</span><span class="n">val</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">visited</span><span class="o">=</span><span class="nb">set</span><span class="p">([</span><span class="n">start</span><span class="p">]),</span> <span class="n">vtwice</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
    <span class="k">while</span> <span class="n">q</span><span class="p">:</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">val</span> <span class="o">==</span> <span class="n">end</span><span class="p">:</span>
            <span class="n">ct</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">continue</span>
        <span class="k">for</span> <span class="n">neighbor</span> <span class="ow">in</span> <span class="n">graph</span><span class="p">[</span><span class="n">node</span><span class="o">.</span><span class="n">val</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">neighbor</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">visited</span><span class="p">:</span>
                <span class="n">visited_neighbor</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">visited</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">neighbor</span><span class="o">.</span><span class="n">islower</span><span class="p">():</span>
                    <span class="n">visited_neighbor</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">neighbor</span><span class="p">)</span>
                <span class="n">q</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">NodeCls</span><span class="p">(</span><span class="n">val</span><span class="o">=</span><span class="n">neighbor</span><span class="p">,</span> <span class="n">visited</span><span class="o">=</span><span class="n">visited_neighbor</span><span class="p">,</span> <span class="n">vtwice</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">vtwice</span><span class="p">))</span>
            <span class="k">elif</span> <span class="ow">not</span> <span class="n">node</span><span class="o">.</span><span class="n">vtwice</span> <span class="ow">and</span> <span class="n">neighbor</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">,</span> <span class="s2">&quot;end&quot;</span><span class="p">]:</span>
                <span class="n">q</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">NodeCls</span><span class="p">(</span><span class="n">val</span><span class="o">=</span><span class="n">neighbor</span><span class="p">,</span> <span class="n">visited</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">visited</span><span class="p">,</span> <span class="n">vtwice</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">ct</span>
</pre></div>


<p>So altogether we have:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">build_graph</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">graph</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">splitlines</span><span class="p">():</span>
        <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">vertex</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">graph</span><span class="p">:</span>
                <span class="n">graph</span><span class="p">[</span><span class="n">vertex</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">graph</span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
        <span class="n">graph</span><span class="p">[</span><span class="n">b</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">graph</span>

<span class="k">def</span> <span class="nf">part2</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">graph</span> <span class="o">=</span> <span class="n">build_graph</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">ans</span> <span class="o">=</span> <span class="n">bfs_visit_twice</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="s2">&quot;start&quot;</span><span class="p">,</span> <span class="s2">&quot;end&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;part2 &quot;</span><span class="p">,</span> <span class="n">ans</span><span class="p">)</span>
</pre></div>


<p>Hope this helps.</p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="/advent_of_code_2021/tag/python.html">python</a>
    </p>
  </div>





<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'nathanesau-github-io';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
    Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>

    <footer>
<p>&copy;  </p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Advent of Code 2021 Blog ",
  "url" : "/advent_of_code_2021",
  "image": "",
  "description": ""
}
</script>


</body>
</html>